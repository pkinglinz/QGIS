FILE(GLOB PY_FILES *.py)
FILE(GLOB TEST_DATA_FILES testdata/points.* testdata/table.dbf)

PLUGIN_INSTALL(processing tests ${PY_FILES})
PLUGIN_INSTALL(processing tests/testdata ${TEST_DATA_FILES})

IF(ENABLE_TESTS)

  # enable SAGA tests
  SET (ENABLE_SAGA_TESTS FALSE CACHE BOOL "Enable Saga tests")
  IF ( ENABLE_SAGA_TESTS )
    ADD_DEFINITIONS(-DENABLE_SAGA_TESTS)
  ENDIF ()

  INCLUDE(UsePythonTest)
  ADD_PYTHON_TEST(ProcessingGeneralTest ProcessingGeneralTest.py)
  ADD_PYTHON_TEST(ProcessingGuiTest GuiTest.py)
  ADD_PYTHON_TEST(ProcessingModelerTest ModelerTest.py)
  ADD_PYTHON_TEST(ProcessingProjectProviderTest ProjectProvider.py)
  ADD_PYTHON_TEST(ProcessingToolsTest ToolsTest.py)
  ADD_PYTHON_TEST(ProcessingGenericAlgorithmsTest AlgorithmsTestBase.py)
  ADD_PYTHON_TEST(ProcessingQgisAlgorithmsTest QgisAlgorithmsTest.py)
  ADD_PYTHON_TEST(ProcessingQgisAlgorithmsTestPt2 QgisAlgorithmsTest2.py)
  ADD_PYTHON_TEST(ProcessingQgisAlgorithmsTestPt3 QgisAlgorithmsTest3.py)
  ADD_PYTHON_TEST(ProcessingQgisAlgorithmsTestPt4 QgisAlgorithmsTest4.py)
  ADD_PYTHON_TEST(ProcessingGdalAlgorithmsGeneralTest GdalAlgorithmsGeneralTest.py)
  ADD_PYTHON_TEST(ProcessingGdalAlgorithmsRasterTest GdalAlgorithmsRasterTest.py)
  ADD_PYTHON_TEST(ProcessingGdalAlgorithmsVectorTest GdalAlgorithmsVectorTest.py)
  ADD_PYTHON_TEST(ProcessingGrass7AlgorithmsImageryTest Grass7AlgorithmsImageryTest.py)
  ADD_PYTHON_TEST(ProcessingGrass7AlgorithmsRasterTest Grass7AlgorithmsRasterTest.py)
  ADD_PYTHON_TEST(ProcessingGrass7AlgorithmsVectorTest Grass7AlgorithmsVectorTest.py)
  ADD_PYTHON_TEST(ProcessingOtbAlgorithmsTest OtbAlgorithmsTest.py)
  ADD_PYTHON_TEST(ProcessingCheckValidityAlgorithmTest CheckValidityAlgorithm.py)
  ADD_PYTHON_TEST(ProcessingScriptUtilsTest ScriptUtilsTest.py)
IF(ENABLE_SAGA_TESTS)
  ADD_PYTHON_TEST(ProcessingSagaAlgorithmsTest SagaAlgorithmsTest.py)
ENDIF(ENABLE_SAGA_TESTS)
ENDIF(ENABLE_TESTS)
